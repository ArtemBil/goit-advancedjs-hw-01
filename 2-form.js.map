{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const localStorageKey = 'feedback-form-state';\nconst errorMessage = 'Fill please all fields';\nconst formElems = {\n  feedbackFormElement: document.querySelector('.js-feedback-form'),\n}\nlet formData = { email: '', message: '' };\n\nconst checkForLocalStorage = () => {\n  try {\n    const data = JSON.parse(localStorage.getItem(localStorageKey));\n\n    if (!data) {\n      return;\n    }\n\n    formData = data;\n\n    Object.keys(data).forEach(key => {\n      formElems.feedbackFormElement.elements[key].value = data[key];\n    });\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nconst onFieldChange = ({ target: { value, name } }) => {\n  formData[name] = value.trim();\n\n  localStorage.setItem(localStorageKey, JSON.stringify(formData));\n}\n\nconst onFormSubmit = (event) => {\n  event.preventDefault();\n  const isFormFilledIn = Object.values(formData).every(value => value !== '' && value !== undefined);\n\n  if (!isFormFilledIn) {\n    return alert(errorMessage);\n  }\n\n  event.target.reset();\n  localStorage.removeItem(localStorageKey);\n  formData = { email: '', message: '' };\n}\n\ncheckForLocalStorage();\nformElems.feedbackFormElement.addEventListener('input', onFieldChange);\nformElems.feedbackFormElement.addEventListener('submit', onFormSubmit);\n"],"names":["localStorageKey","errorMessage","formElems","formData","checkForLocalStorage","data","key","error","onFieldChange","value","name","onFormSubmit","event"],"mappings":"oCAAA,MAAMA,EAAkB,sBAClBC,EAAe,yBACfC,EAAY,CAChB,oBAAqB,SAAS,cAAc,mBAAmB,CACjE,EACA,IAAIC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EAEvC,MAAMC,EAAuB,IAAM,CACjC,GAAI,CACF,MAAMC,EAAO,KAAK,MAAM,aAAa,QAAQL,CAAe,CAAC,EAE7D,GAAI,CAACK,EACH,OAGFF,EAAWE,EAEX,OAAO,KAAKA,CAAI,EAAE,QAAQC,GAAO,CAC/BJ,EAAU,oBAAoB,SAASI,CAAG,EAAE,MAAQD,EAAKC,CAAG,CAClE,CAAK,CACF,OAAQC,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,EAEMC,EAAgB,CAAC,CAAE,OAAQ,CAAE,MAAAC,EAAO,KAAAC,CAAM,CAAA,IAAO,CACrDP,EAASO,CAAI,EAAID,EAAM,KAAI,EAE3B,aAAa,QAAQT,EAAiB,KAAK,UAAUG,CAAQ,CAAC,CAChE,EAEMQ,EAAgBC,GAAU,CAI9B,GAHAA,EAAM,eAAc,EAGhB,CAFmB,OAAO,OAAOT,CAAQ,EAAE,MAAMM,GAASA,IAAU,IAAMA,IAAU,MAAS,EAG/F,OAAO,MAAMR,CAAY,EAG3BW,EAAM,OAAO,QACb,aAAa,WAAWZ,CAAe,EACvCG,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,CACrC,EAEAC,IACAF,EAAU,oBAAoB,iBAAiB,QAASM,CAAa,EACrEN,EAAU,oBAAoB,iBAAiB,SAAUS,CAAY"}